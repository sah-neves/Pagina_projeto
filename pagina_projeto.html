<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <title>TeamBuilder — Detalhes do Projeto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --bg: #fafafa;
      --card: #fff;
      --text: #111;
      --muted: #666;
      --border: #e6e6e6;
      --primary: #4f46e5;
      --primary-contrast: #fff;
      --pill: #f4f4f5;
      --badge-bg: #ecfdf5;
      --badge-text: #065f46;
      --success-bg: #ecfdf5;
      --success-text: #065f46;
      --warning-bg: #fffbeb;
      --warning-text: #d97706;
      --danger-bg: #fef2f2;
      --danger-text: #dc2626;
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color: var(--text); background: var(--bg); }

    .topbar { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: var(--card); border-bottom: 1px solid var(--border); }
    .brand { font-weight: 700; }
    .menu { display: flex; gap: 8px; align-items: center; }
    .link { color: var(--text); text-decoration: none; padding: 8px 10px; border-radius: 8px; }
    .link:hover { background: #f4f4f5; }
    .btn { padding: 8px 12px; border: 1px solid var(--border); border-radius: 10px; background: var(--card); cursor: pointer; }
    .btn:hover { background: #f7f7f7; }
    .btn-primary { background: var(--primary); color: var(--primary-contrast); border-color: var(--primary); }
    .btn-primary:hover { filter: brightness(0.95); }
    .btn-ai { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; }
    .btn-ai:hover { filter: brightness(1.1); }

    .container { max-width: 1120px; margin: 0 auto; padding: 24px 16px; }

    .project-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; }
    .project-title { font-size: 28px; font-weight: 700; margin: 0 0 8px; color: var(--text); }
    .project-subtitle { color: var(--muted); font-size: 16px; margin: 0 0 16px; }
    .project-status { padding: 6px 12px; border-radius: 999px; font-size: 14px; font-weight: 500; }
    .status-active { background: var(--success-bg); color: var(--success-text); }
    .status-pending { background: var(--warning-bg); color: var(--warning-text); }
    .status-completed { background: var(--badge-bg); color: var(--badge-text); }

    .project-description { color: var(--text); font-size: 16px; line-height: 1.6; margin-bottom: 32px; background: var(--card); padding: 24px; border-radius: 16px; border: 1px solid var(--border); }

    .content-grid { display: grid; gap: 24px; grid-template-columns: 1fr; }
    @media (min-width: 768px) { .content-grid { grid-template-columns: 2fr 1fr; } }

    .content-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 24px; }
    .content-card h3 { margin: 0 0 12px; font-size: 18px; font-weight: 600; color: var(--text); }
    .section-description { color: var(--muted); font-size: 14px; margin-bottom: 16px; }

    .skills-list { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 16px; }
    .skill-tag { background: var(--pill); border: 1px solid var(--border); border-radius: 8px; padding: 6px 12px; font-size: 14px; color: var(--text); }

    .project-meta { display: flex; flex-wrap: wrap; gap: 16px; margin-bottom: 24px; }
    .meta-item { display: flex; align-items: center; gap: 8px; font-size: 14px; color: var(--muted); }
    .meta-item i { font-size: 16px; color: var(--primary); }

    .progress-bar { width: 100%; height: 8px; background: var(--pill); border-radius: 4px; overflow: hidden; margin: 16px 0; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), #8b5cf6); transition: width 0.3s ease; }

    .ai-section { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 16px; padding: 24px; text-align: center; }
    .ai-section h3 { color: white; margin: 0 0 12px; }
    .ai-section p { margin: 0 0 20px; opacity: 0.9; }
    .ai-button { background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 12px 24px; border-radius: 12px; cursor: pointer; font-weight: 600; }
    .ai-button:hover { background: rgba(255,255,255,0.3); }

    .loading { text-align: center; padding: 48px; color: var(--muted); }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">TeamBuilder</div>
    <nav class="menu">
      <a href="../home.html" class="link">Home</a>
      <a href="criar_projeto.html" class="btn btn-primary">+ Novo Projeto</a>
    </nav>
  </header>

  <main class="container">
    <!-- Cabeçalho do Projeto -->
    <div class="project-header">
      <div>
        <h1 class="project-title" id="projectTitle">Plataforma de E-commerce</h1>
        <p class="project-subtitle">Desenvolvimento de uma plataforma completa de vendas online</p>
        <div class="project-meta">
          <div class="meta-item">
            <i class="fas fa-calendar"></i>
            <span>Criado em 15/01/2024</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-users"></i>
            <span>5 membros na equipe</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-chart-line"></i>
            <span>75% concluído</span>
          </div>
        </div>
      </div>
      <span class="project-status status-active">Em Andamento</span>
    </div>

    <!-- Descrição do Projeto -->
    <div class="project-description" id="projectDescription">
      Desenvolvimento de uma plataforma completa de vendas online com sistema de pagamentos integrado, 
      gestão de estoque, painel administrativo e aplicativo mobile. O projeto visa criar uma solução 
      escalável que atenda tanto pequenos empreendedores quanto grandes empresas.
    </div>

    <!-- Grid de Conteúdo -->
    <div class="content-grid">
      <!-- Coluna Principal -->
      <div>
        <!-- Habilidades Necessárias -->
        <div class="content-card">
          <h3>Habilidades Necessárias</h3>
          <p class="section-description">Tecnologias e competências requeridas para o projeto</p>
          <div class="skills-list" id="skillsList">
            <span class="skill-tag">React</span>
            <span class="skill-tag">Node.js</span>
            <span class="skill-tag">PostgreSQL</span>
            <span class="skill-tag">Stripe API</span>
            <span class="skill-tag">TypeScript</span>
            <span class="skill-tag">Docker</span>
          </div>
        </div>

        <!-- Progresso do Projeto -->
        <div class="content-card">
          <h3>Progresso do Projeto</h3>
          <p class="section-description">Acompanhe o desenvolvimento e marcos alcançados</p>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 75%"></div>
          </div>
          <p style="margin: 8px 0; color: var(--muted); font-size: 14px;">75% concluído - Fase de desenvolvimento avançada</p>
        </div>
      </div>

      <!-- Coluna Lateral -->
      <div>
        <!-- Assistente IA -->
        <div class="ai-section">
          <h3><i class="fas fa-robot"></i> Assistente IA</h3>
          <p>Obtenha recomendações inteligentes para otimizar seu projeto</p>
          <button class="ai-button" id="aiAssistantBtn">
            <i class="fas fa-magic"></i> Obter Recomendações
          </button>
        </div>

        <!-- Ações Rápidas -->
        <div class="content-card">
          <h3>Ações Rápidas</h3>
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <button class="btn btn-primary" style="width: 100%;">
              <i class="fas fa-edit"></i> Editar Projeto
            </button>
            <button class="btn" style="width: 100%;">
              <i class="fas fa-users"></i> Gerenciar Equipe
            </button>
            <button class="btn" style="width: 100%;">
              <i class="fas fa-share"></i> Compartilhar
            </button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Dados mock do projeto (em produção, viria da API)
    const mockProject = {
      id: '1',
      title: 'Plataforma de E-commerce',
      description: 'Desenvolvimento de uma plataforma completa de vendas online com sistema de pagamentos integrado, gestão de estoque, painel administrativo e aplicativo mobile. O projeto visa criar uma solução escalável que atenda tanto pequenos empreendedores quanto grandes empresas.',
      status: 'active',
      createdAt: '2024-01-15',
      skills: ['React', 'Node.js', 'PostgreSQL', 'Stripe API', 'TypeScript', 'Docker'],
      teamSize: 5,
      progress: 75
    };

    // Referências DOM
    const projectTitle = document.getElementById('projectTitle');
    const projectDescription = document.getElementById('projectDescription');
    const skillsList = document.getElementById('skillsList');
    const aiAssistantBtn = document.getElementById('aiAssistantBtn');

    // Funções utilitárias
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('pt-BR');
    }

    function getStatusInfo(status) {
      const statusMap = {
        'active': { class: 'status-active', text: 'Em Andamento' },
        'pending': { class: 'status-pending', text: 'Pendente' },
        'completed': { class: 'status-completed', text: 'Concluído' },
        'cancelled': { class: 'status-cancelled', text: 'Cancelado' }
      };
      return statusMap[status] || { class: 'status-pending', text: 'Pendente' };
    }

    function renderProject(project) {
      // Atualiza título e descrição
      projectTitle.textContent = project.title;
      projectDescription.textContent = project.description;

      // Renderiza habilidades
      skillsList.innerHTML = project.skills.map(skill => 
        `<span class="skill-tag">${skill}</span>`
      ).join('');

      // Atualiza status
      const statusElement = document.querySelector('.project-status');
      const statusInfo = getStatusInfo(project.status);
      statusElement.className = `project-status ${statusInfo.class}`;
      statusElement.textContent = statusInfo.text;

      // Atualiza progresso
      const progressFill = document.querySelector('.progress-fill');
      progressFill.style.width = `${project.progress}%`;
    }

    // Função do Assistente IA (placeholder para futura integração)
    function handleAIAssistant() {
      // Simula carregamento
      aiAssistantBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analisando...';
      aiAssistantBtn.disabled = true;

      setTimeout(() => {
        // Simula resposta da IA
        alert('🤖 Assistente IA:\n\n' +
              'Recomendações para seu projeto:\n\n' +
              '• Considere adicionar testes automatizados\n' +
              '• Implemente monitoramento de performance\n' +
              '• Adicione documentação técnica\n' +
              '• Configure CI/CD pipeline\n\n' +
              'Essa funcionalidade será integrada com IA real em breve!');
        
        aiAssistantBtn.innerHTML = '<i class="fas fa-magic"></i> Obter Recomendações';
        aiAssistantBtn.disabled = false;
      }, 2000);
    }

    // Carregamento inicial
    async function loadProject() {
      try {
        // Simula carregamento da API
        await new Promise(resolve => setTimeout(resolve, 500));
        
        // Em produção, substitua por:
        // const projectId = new URLSearchParams(window.location.search).get('id');
        // const response = await fetch(`/api/projects/${projectId}`);
        // const project = await response.json();
        
        renderProject(mockProject);
      } catch (error) {
        console.error('Erro ao carregar projeto:', error);
        alert('Erro ao carregar os dados do projeto. Tente novamente.');
      }
    }

    // Event listeners
    aiAssistantBtn.addEventListener('click', handleAIAssistant);

    // Inicialização
    loadProject();
  </script>
</body>
</html>
